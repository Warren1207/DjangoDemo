(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1fdf5eee"],{2994:function(t,e,i){"use strict";i("68ef"),i("c0c2")},"2bdd":function(t,e,i){"use strict";var s=i("a142"),n=i("543e"),a=i("db78"),c=i("023d"),o=Object(s["h"])("list"),r=o[0],l=o[1],h=o[2];e["a"]=r({model:{prop:"loading"},props:{error:Boolean,loading:Boolean,finished:Boolean,errorText:String,loadingText:String,finishedText:String,immediateCheck:{type:Boolean,default:!0},offset:{type:Number,default:300}},mounted:function(){this.scroller=Object(c["b"])(this.$el),this.handler(!0),this.immediateCheck&&this.$nextTick(this.check)},destroyed:function(){this.handler(!1)},activated:function(){this.handler(!0)},deactivated:function(){this.handler(!1)},watch:{loading:function(){this.$nextTick(this.check)},finished:function(){this.$nextTick(this.check)}},methods:{check:function(){if(!(this.loading||this.finished||this.error)){var t=this.$el,e=this.scroller,i=Object(c["d"])(e);if(i&&"none"!==window.getComputedStyle(t).display&&null!==t.offsetParent){var s=Object(c["c"])(e),n=s+i,a=!1;if(t===e)a=e.scrollHeight-n<this.offset;else{var o=Object(c["a"])(t)-Object(c["a"])(e)+Object(c["d"])(t);a=o-i<this.offset}a&&(this.$emit("input",!0),this.$emit("load"))}}},clickErrorText:function(){this.$emit("update:error",!1),this.$nextTick(this.check)},handler:function(t){this.binded!==t&&(this.binded=t,(t?a["b"]:a["a"])(this.scroller,"scroll",this.check))}},render:function(t){return t("div",{class:l()},[this.slots(),this.loading&&t("div",{class:l("loading")},[this.slots("loading")||[t(n["a"],{class:l("loading-icon")}),t("span",{class:l("loading-text")},[this.loadingText||h("loading")])]]),this.finished&&this.finishedText&&t("div",{class:l("finished-text")},[this.finishedText]),this.error&&this.errorText&&t("div",{on:{click:this.clickErrorText},class:l("error-text")},[this.errorText])])}})},"49c3":function(t,e,i){"use strict";var s=i("91e9"),n=i.n(s);n.a},5246:function(t,e,i){"use strict";i("68ef"),i("8a0b")},5852:function(t,e,i){"use strict";i("68ef"),i("1146"),i("f032")},"6b41":function(t,e,i){"use strict";var s=i("2638"),n=i.n(s),a=i("a142"),c=i("ba31"),o=i("ad06"),r=Object(a["h"])("nav-bar"),l=r[0],h=r[1];function d(t,e,i,s){return t("div",n()([{class:[h({fixed:e.fixed}),{"van-hairline--bottom":e.border}],style:{zIndex:e.zIndex}},Object(c["b"])(s)]),[t("div",{class:h("left"),on:{click:s.listeners["click-left"]||a["f"]}},[i.left?i.left():[e.leftArrow&&t(o["a"],{class:h("arrow"),attrs:{name:"arrow-left"}}),e.leftText&&t("span",{class:h("text")},[e.leftText])]]),t("div",{class:[h("title"),"van-ellipsis"]},[i.title?i.title():e.title]),t("div",{class:h("right"),on:{click:s.listeners["click-right"]||a["f"]}},[i.right?i.right():e.rightText&&t("span",{class:h("text")},[e.rightText])])])}d.props={title:String,fixed:Boolean,leftText:String,rightText:String,leftArrow:Boolean,border:{type:Boolean,default:!0},zIndex:{type:Number,default:1}},e["a"]=l(d)},"8a0b":function(t,e,i){},"91e9":function(t,e,i){},a3b3:function(t,e,i){"use strict";i.r(e);var s,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrap"},[i("van-nav-bar",{attrs:{title:"待办事项","left-text":"返回","left-arrow":""},on:{"click-left":t.goBackFn}}),i("div",{staticClass:"main-content"},[i("van-search",{attrs:{placeholder:"申请单号/项目名称/申请人","show-action":"",shape:"round"},on:{search:t.onSearch},model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}},[i("div",{attrs:{slot:"action"},on:{click:t.onSearch},slot:"action"},[t._v("搜索")])]),i("div",{staticClass:"list-content"},[i("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,function(e){return i("div",{key:e.id,staticClass:"list-item",on:{click:function(i){return t.gotoDetail(e)}}},[i("div",{staticClass:"item-detail-wrap"},[i("p",{staticClass:"item-title"},[t._v(t._s(e.title))]),i("p",{staticClass:"item-detail"},[t._v("申请单号："+t._s(e.code))]),i("p",{staticClass:"item-detail"},[t._v("申请人："+t._s(e.user))]),i("p",{staticClass:"item-detail"},[t._v("申请时间："+t._s(e.dataTime))]),i("p",{staticClass:"item-detail"},[t._v("审核状态："+t._s(e.status))])]),i("i",{staticClass:"van-icon van-icon-arrow van-cell__right-icon"})])}),0)],1)],1),i("div",{staticClass:"bottom-bar"},[i("bottom-bar",{attrs:{active:0}})],1)],1)},a=[],c=i("bd86"),o=(i("2994"),i("2bdd")),r=(i("5852"),i("d961")),l=(i("c3a6"),i("ad06")),h=(i("5246"),i("6b41")),d=(i("be7f"),i("565f")),f=(i("7f7f"),i("0653"),i("34e9")),u=i("6b6c");function b(t){return Object(u["a"])({url:"/api/todo/query",method:"post",data:t})}var v={name:"Todo",components:(s={},Object(c["a"])(s,f["a"].name,f["a"]),Object(c["a"])(s,d["a"].name,d["a"]),Object(c["a"])(s,h["a"].name,h["a"]),Object(c["a"])(s,l["a"].name,l["a"]),Object(c["a"])(s,r["a"].name,r["a"]),Object(c["a"])(s,o["a"].name,o["a"]),s),data:function(){return{toggleSearch:!1,searchText:"",list:[],loading:!1,finished:!1}},methods:{goBackFn:function(){this.$router.go(-1)},onSearch:function(){var t=this;b({queryStr:this.searchText}).then(function(e){t.list=e.data})},onSearchCancel:function(){this.toggleSearch=!1},gotoDetail:function(){this.$router.push({name:"itemdetail",params:{forward:"todo"}})},onLoad:function(){var t=this;b({queryStr:this.searchText}).then(function(e){t.list=e.data,t.loading=!1,t.finished=!0})}}},p=v,m=(i("49c3"),i("2877")),g=Object(m["a"])(p,n,a,!1,null,"155a300c",null);e["default"]=g.exports},c0c2:function(t,e,i){},c3a6:function(t,e,i){"use strict";i("68ef")},d961:function(t,e,i){"use strict";var s=i("2638"),n=i.n(s),a=i("c31d"),c=i("a142"),o=i("565f"),r=Object(c["h"])("search"),l=r[0],h=r[1],d=r[2];e["a"]=l({inheritAttrs:!1,props:{value:String,label:String,showAction:Boolean,shape:{type:String,default:"square"},background:{type:String,default:"#ffffff"}},computed:{listeners:function(){return Object(a["a"])({},this.$listeners,{input:this.onInput,keypress:this.onKeypress})}},methods:{onInput:function(t){this.$emit("input",t)},onKeypress:function(t){13===t.keyCode&&(t.preventDefault(),this.$emit("search",this.value)),this.$emit("keypress",t)},onBack:function(){this.$emit("input",""),this.$emit("cancel")},renderLabel:function(){var t=this.$createElement;return this.slots("label")?this.slots("label"):this.label&&t("div",{class:h("label")},[this.label])}},render:function(t){var e=this,i=this.showAction,s={attrs:this.$attrs,on:this.listeners},a={};return this.slots("left-icon")&&(a["left-icon"]=function(){return e.slots("left-icon")}),t("div",{class:h({"show-action":i}),style:{background:this.background}},[t("div",{class:h("content",[this.shape])},[this.renderLabel(),t(o["a"],n()([{attrs:{clearable:!0,type:"search",value:this.value,border:!1,leftIcon:"search"},scopedSlots:a},s]))]),i&&t("div",{class:h("action")},[this.slots("action")||t("div",{on:{click:this.onBack}},[d("cancel")])])])}})},f032:function(t,e,i){}}]);
//# sourceMappingURL=chunk-1fdf5eee.05f3629c.js.map